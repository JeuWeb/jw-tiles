!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function i(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t}function l(e,t){e.appendChild(t)}function o(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function a(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function u(){return f(" ")}function d(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t,n,s){e.style.setProperty(t,n,s?"important":"")}let p;function m(e){p=e}const h=[],v=[],q=[],y=[],x=Promise.resolve();let b=!1;function $(e){q.push(e)}let j=!1;const k=new Set;function _(){if(!j){j=!0;do{for(let e=0;e<h.length;e+=1){const t=h[e];m(t),M(t.$$)}for(h.length=0;v.length;)v.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];k.has(t)||(k.add(t),t())}q.length=0}while(h.length);for(;y.length;)y.pop()();b=!1,j=!1,k.clear()}}function M(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach($)}}const E=new Set;function S(e,t){e&&e.i&&(E.delete(e),e.i(t))}function N(e,t){e.d(1),t.delete(e.key)}function L(e,t){-1===e.$$.dirty[0]&&(h.push(e),b||(b=!0,x.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function T(r,l,o,a,f,u,d=[-1]){const w=p;m(r);const g=l.props||{},h=r.$$={fragment:null,ctx:null,props:u,update:e,not_equal:f,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(w?w.$$.context:[]),callbacks:n(),dirty:d};let v=!1;if(h.ctx=o?o(r,g,(e,t,...n)=>{const s=n.length?n[0]:t;return h.ctx&&f(h.ctx[e],h.ctx[e]=s)&&(h.bound[e]&&h.bound[e](s),v&&L(r,e)),t}):[],h.update(),v=!0,s(h.before_update),h.fragment=!!a&&a(h.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);h.fragment&&h.fragment.l(e),e.forEach(c)}else h.fragment&&h.fragment.c();l.intro&&S(r.$$.fragment),function(e,n,r){const{fragment:l,on_mount:o,on_destroy:c,after_update:a}=e.$$;l&&l.m(n,r),$(()=>{const n=o.map(t).filter(i);c?c.push(...n):s(n),e.$$.on_mount=[]}),a.forEach($)}(r,l.target,l.anchor),_()}m(w)}function A(e,t,n){const s=e.slice();return s[9]=t[n],s}function B(e,t){let n,s,i,r,p,m,h,v,q,y,x=t[9].name+"";function b(...e){return t[8](t[9],...e)}return{key:e,first:null,c(){n=a("a"),s=a("img"),p=u(),m=a("div"),h=f(x),v=u(),s.src!==(i=t[9].image)&&w(s,"src",i),w(s,"alt",r=t[9].name),g(s,"object-fit",t[9].fit),w(s,"class","svelte-3f7w3q"),w(m,"class","svelte-3f7w3q"),w(n,"class","jw-tiles-tile svelte-3f7w3q"),w(n,"href",q=t[9].url),this.first=n},m(e,t,i){o(e,n,t),l(n,s),l(n,p),l(n,m),l(m,h),l(n,v),i&&y(),y=d(s,"error",b)},p(e,l){t=e,1&l&&s.src!==(i=t[9].image)&&w(s,"src",i),1&l&&r!==(r=t[9].name)&&w(s,"alt",r),1&l&&g(s,"object-fit",t[9].fit),1&l&&x!==(x=t[9].name+"")&&function(e,t){t=""+t,e.data!==t&&(e.data=t)}(h,x),1&l&&q!==(q=t[9].url)&&w(n,"href",q)},d(e){e&&c(n),y()}}}function C(e){let t,n;return{c(){t=a("img"),w(t,"class","jw-tiles-hidden svelte-3f7w3q"),t.src!==(n=e[1].image)&&w(t,"src",n),w(t,"alt","preloading")},m(e,n){o(e,t,n)},p(e,s){2&s&&t.src!==(n=e[1].image)&&w(t,"src",n)},d(e){e&&c(t)}}}function H(e){let t,n;return{c(){t=a("img"),w(t,"class","jw-tiles-hidden svelte-3f7w3q"),t.src!==(n=e[2].image)&&w(t,"src",n),w(t,"alt","preloading")},m(e,n){o(e,t,n)},p(e,s){4&s&&t.src!==(n=e[2].image)&&w(t,"src",n)},d(e){e&&c(t)}}}function O(t){let n,i,r,f,g,p,m,h,v,q,y,x,b=[],$=new Map,j=t[0];const k=e=>e[9].id;for(let e=0;e<j.length;e+=1){let n=A(t,j,e),s=k(n);$.set(s,b[e]=B(s,n))}let _=t[1]&&C(t),M=t[2]&&H(t);return{c(){n=a("div"),i=a("div");for(let e=0;e<b.length;e+=1)b[e].c();r=u(),f=a("div"),f.innerHTML='<span class="svelte-3f7w3q">◀</span>',g=u(),p=a("div"),p.innerHTML='<span class="svelte-3f7w3q">▶</span>',m=u(),_&&_.c(),h=u(),M&&M.c(),v=u(),q=a("img"),w(i,"class","jw-tiles-tileset svelte-3f7w3q"),w(f,"class","jw-tiles-arrow jw-tiles-arrow-left svelte-3f7w3q"),w(p,"class","jw-tiles-arrow jw-tiles-arrow-right svelte-3f7w3q"),w(n,"class","jw-tiles-inner svelte-3f7w3q"),w(q,"class","jw-tiles-hidden svelte-3f7w3q"),q.src!==(y=z)&&w(q,"src",y),w(q,"alt","preloading")},m(e,c,a){o(e,n,c),l(n,i);for(let e=0;e<b.length;e+=1)b[e].m(i,null);l(n,r),l(n,f),l(n,g),l(n,p),o(e,m,c),_&&_.m(e,c),o(e,h,c),M&&M.m(e,c),o(e,v,c),o(e,q,c),a&&s(x),x=[d(f,"click",t[3]),d(p,"click",t[4])]},p(e,[t]){if(33&t){const n=e[0];b=function(e,t,n,s,i,r,l,o,c,a,f,u){let d=e.length,w=r.length,g=d;const p={};for(;g--;)p[e[g].key]=g;const m=[],h=new Map,v=new Map;for(g=w;g--;){const e=u(i,r,g),o=n(e);let c=l.get(o);c?s&&c.p(e,t):(c=a(o,e),c.c()),h.set(o,m[g]=c),o in p&&v.set(o,Math.abs(g-p[o]))}const q=new Set,y=new Set;function x(e){S(e,1),e.m(o,f,l.has(e.key)),l.set(e.key,e),f=e.first,w--}for(;d&&w;){const t=m[w-1],n=e[d-1],s=t.key,i=n.key;t===n?(f=t.first,d--,w--):h.has(i)?!l.has(s)||q.has(s)?x(t):y.has(i)?d--:v.get(s)>v.get(i)?(y.add(s),x(t)):(q.add(i),d--):(c(n,l),d--)}for(;d--;){const t=e[d];h.has(t.key)||c(t,l)}for(;w;)x(m[w-1]);return m}(b,t,k,1,e,n,$,i,N,B,null,A)}e[1]?_?_.p(e,t):(_=C(e),_.c(),_.m(h.parentNode,h)):_&&(_.d(1),_=null),e[2]?M?M.p(e,t):(M=H(e),M.c(),M.m(v.parentNode,v)):M&&(M.d(1),M=null)},i:e,o:e,d(e){e&&c(n);for(let e=0;e<b.length;e+=1)b[e].d();e&&c(m),_&&_.d(e),e&&c(h),M&&M.d(e),e&&c(v),e&&c(q),s(x)}}}const z="//jeuweb.org/jscripts/jeuweb/no-game-image.png";function I(e,t,n){let{tileset:s=[]}=t,i=s.slice();function r(e,t){t.image!==z&&n(7,i=function(e,t,n,s){let i;for(i=0;i<e.length;i++){const r=e[i];if(r[t]===n)return[...e.slice(0,i),s(r),...e.slice(i+1)]}return e}(i,"image",t.image,e=>({...e,image:z,fit:"contain"})))}!function(e){for(var t,n,s=e.length;0!==s;)n=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[n],e[n]=t}(i);let l,o,c;return e.$set=e=>{"tileset"in e&&n(6,s=e.tileset)},e.$$.update=()=>{128&e.$$.dirty&&n(0,l=i.slice(0,4)),128&e.$$.dirty&&n(1,o=i[4]),128&e.$$.dirty&&n(2,c=i[i.length-1])},[l,o,c,function(){n(7,i=[i[i.length-1]].concat(i.slice(0,i.length-1)))},function(){n(7,i=i.slice(1).concat([i[0]]))},r,s,i,(e,t)=>r(0,e)]}class P extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}{constructor(e){var t;super(),document.getElementById("svelte-3f7w3q-style")||((t=a("style")).id="svelte-3f7w3q-style",t.textContent=".jw-tiles-inner.svelte-3f7w3q.svelte-3f7w3q{position:relative;box-sizing:border-box;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue',\n      sans-serif}.jw-tiles-tileset.svelte-3f7w3q.svelte-3f7w3q{height:13em;display:flex;justify-content:space-between;align-items:stretch}img.svelte-3f7w3q.svelte-3f7w3q{display:block;width:100%;height:calc(100% - 30px)}.jw-tiles-tile.svelte-3f7w3q.svelte-3f7w3q{width:calc(25% - 9px);text-decoration:none;background:rgb(209, 209, 209)}.jw-tiles-tile.svelte-3f7w3q div.svelte-3f7w3q{height:30px;background:#2c2c2c;color:#fff;padding:0 8px;width:calc(100% - 2 * 8px);font-size:14px;line-height:calc(2 * 14px);text-align:right}.jw-tiles-arrow.svelte-3f7w3q.svelte-3f7w3q{border-radius:50%;position:absolute;top:50%;height:3em;width:3em;line-height:3em;margin-top:-1.5em;user-select:none;text-align:center;background:rgba(0, 0, 0, 0.75);color:#999;cursor:pointer}.jw-tiles-arrow.svelte-3f7w3q span.svelte-3f7w3q{font-size:21px}.jw-tiles-arrow-left.svelte-3f7w3q.svelte-3f7w3q{left:5px}.jw-tiles-arrow-left.svelte-3f7w3q span.svelte-3f7w3q{margin-right:4px}.jw-tiles-arrow-right.svelte-3f7w3q.svelte-3f7w3q{right:5px}.jw-tiles-arrow-right.svelte-3f7w3q span.svelte-3f7w3q{margin-left:4px}.jw-tiles-tile.svelte-3f7w3q:first-child div.svelte-3f7w3q{border-radius:0 0 0 8px}.jw-tiles-tile.svelte-3f7w3q:first-child img.svelte-3f7w3q{border-radius:8px 0 0 0}.jw-tiles-tile.svelte-3f7w3q:last-child>div.svelte-3f7w3q{border-radius:0 0 8px 0}.jw-tiles-tile.svelte-3f7w3q:last-child img.svelte-3f7w3q{border-radius:0 8px 0 0}.jw-tiles-hidden.svelte-3f7w3q.svelte-3f7w3q{display:none}",l(document.head,t)),T(this,e,I,O,r,{tileset:6})}}function R(e){const{name:t,url:n,image:s,description:i,id:r}=e;return{name:t,url:n,image:s,description:i,id:r,fit:"cover"}}var U;U=function(e){new P({target:document.getElementById("jw-tiles"),props:{tileset:e}})},function e(t,n,s){return(s=new XMLHttpRequest).open("GET",t),t=[],e.timeout&&(s.timeout=e.timeout),s.ontimeout=function(e){n=e},s.onreadystatechange=s.then=function(e,i,r,l){if(e&&e.call&&(t=[,e,i]),n&&t[2]&&t[2](n,s),4==s.readyState&&(r=t[0|s.status/200])){try{l=JSON.parse(s.responseText)}catch(e){l=null}r(l,s)}},s.send(),s}("//jeuweb.org/our-games.json").then(e=>U(function({data:e}){return e.map(R)}(e)))}();
