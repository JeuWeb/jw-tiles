!function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function s(){return Object.create(null)}function l(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const r="undefined"!=typeof window;let a=r?()=>window.performance.now():()=>Date.now(),c=r?t=>requestAnimationFrame(t):t;const u=new Set;function d(t){u.forEach(e=>{e.c(t)||(u.delete(e),e.f())}),0!==u.size&&c(d)}function h(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function m(){return b(" ")}function j(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function y(t,e,n){t.classList[n?"add":"remove"](e)}const $=new Set;let x,_=0;function E(t,e,n,s,l,i,o,r=0){const a=16.666/s;let c="{\n";for(let t=0;t<=1;t+=a){const s=e+(n-e)*i(t);c+=100*t+`%{${o(s,1-s)}}\n`}const u=c+`100% {${o(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${r}`,h=t.ownerDocument;$.add(h);const f=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(g("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[d]||(p[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${d} ${s}ms linear ${l}ms 1 both`,_+=1,d}function M(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-s.length;l&&(t.style.animation=s.join(", "),_-=l,_||c(()=>{_||($.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),$.clear())}))}function S(t){x=t}const C=[],N=[],T=[],A=[],L=Promise.resolve();let O=!1;function R(t){T.push(t)}let z=!1;const B=new Set;function H(){if(!z){z=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];S(e),P(e.$$)}for(C.length=0;N.length;)N.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];B.has(e)||(B.add(e),e())}T.length=0}while(C.length);for(;A.length;)A.pop()();O=!1,z=!1,B.clear()}}function P(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}let q;function I(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const X=new Set;let D;function F(){D={r:0,c:[],p:D}}function J(){D.r||l(D.c),D=D.p}function U(t,e){t&&t.i&&(X.delete(t),t.i(e))}function G(t,e,n,s){if(t&&t.o){if(X.has(t))return;X.add(t),D.c.push(()=>{X.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}const K={duration:0};function Q(n,s,o,r){let h=s(n,o),f=r?0:1,p=null,g=null,b=null;function m(){b&&M(n,b)}function j(t,e){const n=t.b-f;return e*=Math.abs(n),{a:f,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(s){const{delay:i=0,duration:o=300,easing:r=e,tick:v=t,css:k}=h||K,w={start:a()+i,b:s};s||(w.group=D,D.r+=1),p?g=w:(k&&(m(),b=E(n,f,s,o,i,r,k)),s&&v(0,1),p=j(w,o),R(()=>I(n,s,"start")),function(t){let e;0===u.size&&c(d),new Promise(n=>{u.add(e={c:t,f:n})})}(t=>{if(g&&t>g.start&&(p=j(g,o),g=null,I(n,p.b,"start"),k&&(m(),b=E(n,f,p.b,p.duration,0,r,h.css))),p)if(t>=p.end)v(f=p.b,1-f),I(n,p.b,"end"),g||(p.b?m():--p.group.r||l(p.group.c)),p=null;else if(t>=p.start){const e=t-p.start;f=p.a+p.d*r(e/p.duration),v(f,1-f)}return!(!p&&!g)}))}return{run(t){i(h)?(q||(q=Promise.resolve(),q.then(()=>{q=null})),q).then(()=>{h=h(),v(t)}):v(t)},end(){m(),p=g=null}}}function V(t,e){G(t,1,1,()=>{e.delete(t.key)})}function W(t,e){-1===t.$$.dirty[0]&&(C.push(t),O||(O=!0,L.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(e,o,r,a,c,u,d=[-1]){const h=x;S(e);const f=o.props||{},g=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:s(),dirty:d};let b=!1;if(g.ctx=r?r(e,f,(t,n,...s)=>{const l=s.length?s[0]:n;return g.ctx&&c(g.ctx[t],g.ctx[t]=l)&&(g.bound[t]&&g.bound[t](l),b&&W(e,t)),n}):[],g.update(),b=!0,l(g.before_update),g.fragment=!!a&&a(g.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);g.fragment&&g.fragment.l(t),t.forEach(p)}else g.fragment&&g.fragment.c();o.intro&&U(e.$$.fragment),function(t,e,s){const{fragment:o,on_mount:r,on_destroy:a,after_update:c}=t.$$;o&&o.m(e,s),R(()=>{const e=r.map(n).filter(i);a?a.push(...e):l(e),t.$$.on_mount=[]}),c.forEach(R)}(e,o.target,o.anchor),H()}S(h)}function Z(t,{delay:n=0,duration:s=400,easing:l=e}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:l,css:t=>`opacity: ${t*i}`}}function tt(t,e,n){const s=t.slice();return s[17]=e[n],s}function et(t){let e,n,s,l,i,o,r,a,c,u,d,j,w,y,$,x=t[17].description+"";return{c(){e=g("div"),n=g("div"),s=g("p"),l=b(x),i=m(),o=g("div"),r=g("a"),a=b("Topic"),u=m(),d=g("a"),j=b("▶ Jouer"),v(s,"class","svelte-1thbkj7"),v(n,"class","jw-tiles-game-descr svelte-1thbkj7"),v(r,"target","_blank"),v(r,"rel","noopener"),v(r,"href",c=rt(t[17].id_thread)),v(r,"class","svelte-1thbkj7"),v(d,"target","_blank"),v(d,"rel","noopener"),v(d,"href",w=t[17].url),v(d,"class","svelte-1thbkj7"),v(o,"class","jw-tiles-game-actions svelte-1thbkj7"),v(e,"class","jw-tiles-infopane svelte-1thbkj7")},m(t,c){f(t,e,c),h(e,n),h(n,s),h(s,l),h(e,i),h(e,o),h(o,r),h(r,a),h(o,u),h(o,d),h(d,j),$=!0},p(t,e){(!$||2&e)&&x!==(x=t[17].description+"")&&k(l,x),(!$||2&e&&c!==(c=rt(t[17].id_thread)))&&v(r,"href",c),(!$||2&e&&w!==(w=t[17].url))&&v(d,"href",w)},i(t){$||(R(()=>{y||(y=Q(e,Z,{duration:200},!0)),y.run(1)}),$=!0)},o(t){y||(y=Q(e,Z,{duration:200},!1)),y.run(0),$=!1},d(t){t&&p(e),t&&y&&y.end()}}}function nt(t,e){let n,s,i,o,r,a,c,u,d,$,x,_,E,M,S=e[17].name+"";function C(...t){return e[13](e[17],...t)}let N=e[0]===e[17].id&&et(e);function T(...t){return e[14](e[17],...t)}function A(...t){return e[15](e[17],...t)}return{key:t,first:null,c(){n=g("div"),s=g("div"),i=g("img"),a=m(),N&&N.c(),c=m(),u=g("a"),d=b(S),_=m(),i.src!==(o=e[17].image)&&v(i,"src",o),v(i,"alt",r=e[17].name),w(i,"object-fit",e[17].fit),v(i,"class","svelte-1thbkj7"),v(u,"target","_blank"),v(u,"rel","noopener"),v(u,"href",$=e[17].url),v(u,"title",x=e[17].name),v(u,"class","jw-tiles-game-title svelte-1thbkj7"),v(s,"class","jw-tiles-ratio svelte-1thbkj7"),v(n,"class","jw-tiles-tile svelte-1thbkj7"),y(n,"jw-tiles-active",e[0]===e[17].id),this.first=n},m(t,o,r){f(t,n,o),h(n,s),h(s,i),h(s,a),N&&N.m(s,null),h(s,c),h(s,u),h(u,d),h(n,_),E=!0,r&&l(M),M=[j(i,"error",C),j(n,"mouseenter",T),j(n,"touchstart",e[8]),j(n,"touchend",A),j(n,"mouseleave",e[16])]},p(t,l){e=t,(!E||2&l&&i.src!==(o=e[17].image))&&v(i,"src",o),(!E||2&l&&r!==(r=e[17].name))&&v(i,"alt",r),(!E||2&l)&&w(i,"object-fit",e[17].fit),e[0]===e[17].id?N?(N.p(e,l),U(N,1)):(N=et(e),N.c(),U(N,1),N.m(s,c)):N&&(F(),G(N,1,1,()=>{N=null}),J()),(!E||2&l)&&S!==(S=e[17].name+"")&&k(d,S),(!E||2&l&&$!==($=e[17].url))&&v(u,"href",$),(!E||2&l&&x!==(x=e[17].name))&&v(u,"title",x),3&l&&y(n,"jw-tiles-active",e[0]===e[17].id)},i(t){E||(U(N),E=!0)},o(t){G(N),E=!1},d(t){t&&p(n),N&&N.d(),l(M)}}}function st(t){let e,n;return{c(){e=g("img"),v(e,"class","jw-tiles-hidden svelte-1thbkj7"),e.src!==(n=t[2].image)&&v(e,"src",n),v(e,"alt","preloading")},m(t,n){f(t,e,n)},p(t,s){4&s&&e.src!==(n=t[2].image)&&v(e,"src",n)},d(t){t&&p(e)}}}function lt(t){let e,n;return{c(){e=g("img"),v(e,"class","jw-tiles-hidden svelte-1thbkj7"),e.src!==(n=t[3].image)&&v(e,"src",n),v(e,"alt","preloading")},m(t,n){f(t,e,n)},p(t,s){8&s&&e.src!==(n=t[3].image)&&v(e,"src",n)},d(t){t&&p(e)}}}function it(t){let e,n,s,i,o,r,a,c,u,d,b,k,w,y=[],$=new Map,x=t[1];const _=t=>t[17].id;for(let e=0;e<x.length;e+=1){let n=tt(t,x,e),s=_(n);$.set(s,y[e]=nt(s,n))}let E=t[2]&&st(t),M=t[3]&&lt(t);return{c(){e=g("div"),n=g("div");for(let t=0;t<y.length;t+=1)y[t].c();s=m(),i=g("div"),i.innerHTML='<span class="svelte-1thbkj7">◀</span>',o=m(),r=g("div"),r.innerHTML='<span class="svelte-1thbkj7">▶</span>',a=m(),E&&E.c(),c=m(),M&&M.c(),u=m(),d=g("img"),v(n,"class","jw-tiles-tileset svelte-1thbkj7"),v(i,"class","jw-tiles-arrow jw-tiles-arrow-left svelte-1thbkj7"),v(r,"class","jw-tiles-arrow jw-tiles-arrow-right svelte-1thbkj7"),v(e,"class","jw-tiles-inner svelte-1thbkj7"),v(d,"class","jw-tiles-hidden svelte-1thbkj7"),d.src!==(b=ot)&&v(d,"src",b),v(d,"alt","preloading")},m(p,g,b){f(p,e,g),h(e,n);for(let t=0;t<y.length;t+=1)y[t].m(n,null);h(e,s),h(e,i),h(e,o),h(e,r),f(p,a,g),E&&E.m(p,g),f(p,c,g),M&&M.m(p,g),f(p,u,g),f(p,d,g),k=!0,b&&l(w),w=[j(i,"click",t[4]),j(r,"click",t[5])]},p(t,[e]){if(963&e){const s=t[1];F(),y=function(t,e,n,s,l,i,o,r,a,c,u,d){let h=t.length,f=i.length,p=h;const g={};for(;p--;)g[t[p].key]=p;const b=[],m=new Map,j=new Map;for(p=f;p--;){const t=d(l,i,p),r=n(t);let a=o.get(r);a?s&&a.p(t,e):(a=c(r,t),a.c()),m.set(r,b[p]=a),r in g&&j.set(r,Math.abs(p-g[r]))}const v=new Set,k=new Set;function w(t){U(t,1),t.m(r,u,o.has(t.key)),o.set(t.key,t),u=t.first,f--}for(;h&&f;){const e=b[f-1],n=t[h-1],s=e.key,l=n.key;e===n?(u=e.first,h--,f--):m.has(l)?!o.has(s)||v.has(s)?w(e):k.has(l)?h--:j.get(s)>j.get(l)?(k.add(s),w(e)):(v.add(l),h--):(a(n,o),h--)}for(;h--;){const e=t[h];m.has(e.key)||a(e,o)}for(;f;)w(b[f-1]);return b}(y,e,_,1,t,s,$,n,V,nt,null,tt),J()}t[2]?E?E.p(t,e):(E=st(t),E.c(),E.m(c.parentNode,c)):E&&(E.d(1),E=null),t[3]?M?M.p(t,e):(M=lt(t),M.c(),M.m(u.parentNode,u)):M&&(M.d(1),M=null)},i(t){if(!k){for(let t=0;t<x.length;t+=1)U(y[t]);k=!0}},o(t){for(let t=0;t<y.length;t+=1)G(y[t]);k=!1},d(t){t&&p(e);for(let t=0;t<y.length;t+=1)y[t].d();t&&p(a),E&&E.d(t),t&&p(c),M&&M.d(t),t&&p(u),t&&p(d),l(w)}}}const ot="//jeuweb.org/jscripts/jeuweb/no-game-image.png";function rt(t){return`//jeuweb.org/showthread.php?tid=${t}`}function at(t,e,n){let{tileset:s=[]}=e,l=s.slice();function i(){l.splice(0,0,l.pop()),n(11,l)}function o(){l.push(l.shift()),n(11,l)}!function(t){for(var e,n,s=t.length;0!==s;)n=Math.floor(Math.random()*s),e=t[s-=1],t[s]=t[n],t[n]=e}(l);let r,a=null;function c(t){n(0,a=t)}function u(t,e){e.image!==ot&&(e.fit="contain",e.image=ot,n(11,l))}function d(t,e){let n=t.changedTouches[0].pageX;Math.abs(n-r)<20?c(e):(c(null),n>r?i():o())}let h,f,p;return t.$set=t=>{"tileset"in t&&n(10,s=t.tileset)},t.$$.update=()=>{2048&t.$$.dirty&&n(1,h=l.slice(0,4)),2048&t.$$.dirty&&n(2,f=l[4]),2048&t.$$.dirty&&n(3,p=l[l.length-1])},[a,h,f,p,i,o,c,u,function(t){r=t.touches[0].pageX},d,s,l,r,(t,e)=>u(0,t),t=>c(t.id),(t,e)=>d(e,t.id),()=>c(null)]}class ct extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){var e;super(),document.getElementById("svelte-1thbkj7-style")||((e=g("style")).id="svelte-1thbkj7-style",e.textContent=".jw-tiles-inner.svelte-1thbkj7.svelte-1thbkj7{position:relative;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue',\n      sans-serif}.jw-tiles-inner.svelte-1thbkj7.svelte-1thbkj7,.jw-tiles-inner.svelte-1thbkj7 .svelte-1thbkj7{box-sizing:border-box}.jw-tiles-tileset.svelte-1thbkj7.svelte-1thbkj7{display:flex;justify-content:space-between;align-items:stretch}.jw-tiles-tile.svelte-1thbkj7.svelte-1thbkj7{width:calc(25% - 9px)}.jw-tiles-tile.svelte-1thbkj7 a.svelte-1thbkj7:link{text-decoration:none}.jw-tiles-ratio.svelte-1thbkj7.svelte-1thbkj7{position:relative;width:100%;height:0;padding-bottom:calc(62.5% + 30px)}img.svelte-1thbkj7.svelte-1thbkj7{position:absolute;display:block;height:calc(100% - 30px);width:100%;height:calc(100% - 30px)}.jw-tiles-infopane.svelte-1thbkj7.svelte-1thbkj7{position:absolute;top:0;bottom:31px;width:100%;background:rgba(0, 0, 0, 0.7);color:white;padding:0.5em;display:flex;flex-direction:column;justify-content:space-between}.jw-tiles-game-descr.svelte-1thbkj7.svelte-1thbkj7{max-height:70%;overflow:hidden}.jw-tiles-game-descr.svelte-1thbkj7 p.svelte-1thbkj7{margin:0;padding:0}.jw-tiles-game-actions.svelte-1thbkj7.svelte-1thbkj7{display:flex;justify-content:space-between}.jw-tiles-game-actions.svelte-1thbkj7 a.svelte-1thbkj7{background:rgb(41, 93, 146);color:white;display:block;line-height:1.5em;text-align:center;padding:0.25em;width:calc(50% - 0.25em)}.jw-tiles-game-title.svelte-1thbkj7.svelte-1thbkj7{position:absolute;bottom:0;height:31px;background:#2c2c2c;color:#fff;padding:0 8px;width:100%;font-size:14px;overflow:hidden;line-height:calc(2 * 14px);text-align:right}.jw-tiles-arrow.svelte-1thbkj7.svelte-1thbkj7{border-radius:50%;position:absolute;top:50%;height:3em;width:3em;line-height:3em;margin-top:-1.5em;user-select:none;text-align:center;background:rgba(0, 0, 0, 0.75);color:#999;cursor:pointer}.jw-tiles-arrow.svelte-1thbkj7 span.svelte-1thbkj7{font-size:21px}.jw-tiles-arrow-left.svelte-1thbkj7.svelte-1thbkj7{left:5px}.jw-tiles-arrow-left.svelte-1thbkj7 span.svelte-1thbkj7{margin-right:4px}.jw-tiles-arrow-right.svelte-1thbkj7.svelte-1thbkj7{right:5px}.jw-tiles-arrow-right.svelte-1thbkj7 span.svelte-1thbkj7{margin-left:4px}.jw-tiles-hidden.svelte-1thbkj7.svelte-1thbkj7{display:none}",h(document.head,e)),Y(this,t,at,it,o,{tileset:10})}}function ut(t){return{...t,fit:"cover"}}var dt;dt=function(t){new ct({target:document.getElementById("jw-tiles"),props:{tileset:t}})},function t(e,n,s){return(s=new XMLHttpRequest).open("GET",e),e=[],t.timeout&&(s.timeout=t.timeout),s.ontimeout=function(t){n=t},s.onreadystatechange=s.then=function(t,l,i,o){if(t&&t.call&&(e=[,t,l]),n&&e[2]&&e[2](n,s),4==s.readyState&&(i=e[0|s.status/200])){try{o=JSON.parse(s.responseText)}catch(t){o=null}i(o,s)}},s.send(),s}("//jeuweb.org/our-games.json").then(t=>dt(function({data:t}){return t.map(ut)}(t)))}();
